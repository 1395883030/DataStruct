# 第二章 -线性表、栈和队列

## 2.2 教材习题解答

### 2.1 设计一个算法，求单链表 X 中，内容为 a 的结点的地址

> **解答：**
>
> 需考虑内容为 a 的地址可能有多个，由于链表中内容为 a 的结点数目不确定，可以选择用一个新链表来存放找到的结点地址。
>
> ```cpp
>
> ```

### 2.2 设计一个算法，在单链表 X 中内容为 a 的结点前插入一个内容为 b 的结点

> **解答：**
>
> 需考虑存在多个内容为 a 的结点
>
> ```cpp
>
> ```

### 2.3 写出将单链表置逆的算法，即由单链表 A 产生单链表 Z，使得 A 的最后一个元素的是 Z 的第一个元素，依此类推。要求 Z 仍占用 A 所占用的存储单元，并且尽可能地减少使用附加单元

> **解答：**
>
> 用 trail,middle,head 指针指向相邻地 3 个元素，并一次往后挪，每次循环中，把原链表地两个方向改过来，即置逆过来。这样一来，如果把 head 指针看成链表自己地成员变量，只需要两个额外的指针。
>
> ```cpp
>
> ```

### 2.4 设计一个算法，一个双链表 X，是将指针边里 F 指向的结点插入到指针边里 P 指向的结点之前。请画图表示插入前后双链表的变化情况

> **解答：**
>
> ```cpp
>
> ```

### 2.5 设计一个算法，求循环链表中结点的个数

> **解答：**
>
> 判断已经边里整个链表环的方法：使用一个指针变量 link 从链表首元素向后遍历整个链表，直到 link=first 时，说明该结点即尾结点
>
> ```cpp
>
> ```

### 2.6 设计一个算法，删除循环表中的第一个结点

> **解答：**
>
> _注意：头结点不是第一个结点_
>
> ```cpp
>
> ```

### 2.7 设计一个算法，删除向量中第 i 个元素

> **解答：**
>
> 向量不是向量表，可以理解为是一维数组
>
> ```cpp
>
> ```

### 2.8 编号为 1、2、3、4 的 4 辆列车，顺序开进一个栈式结构的站台，请问开出车站的顺序有多少种可能

> **解答：**
>
> 14 种可能
>
> 思路:

### 2.9 两个迎面增长的栈S1和S2公用n个存储单元，写出对栈S2进行push、pop、top运算的算法，要求整个存储区被占满了才溢出

> **解答：**
>
> 对于双向进行存储的栈，可以让两个栈的底分别位于作为存储的向量的始端和末端，而开始和末尾分别作为栈的初始栈顶，当栈顶相遇时，产生溢出异常。
>
> ```cpp
> 
> ```

### 2.10 对于环状的队列，写出计算队列元素个数的程序

> **解答：**
>
> ```cpp
> 
> ```

### 2.11 证明：从初始输入序列1,2,...,n,可以利用一个栈得到输出序列$p_1,p_2,...,p_n,(p_1,p_2,...,p_n是1,2,...,n的一种排列)$的充分必要条件是：不存在下标$i,j,k,$满足$i<j<k$的同时$p_j<p_k<p_i$

> **解答：**
>
> 
>
> ```cpp
> 
> ```

### 2.12 现有中缀表达式$E=((100-4)/3+3*(36-7))*2$，请写出与E等价的后缀表达式

> **解答：**
>
> 
>
> ```cpp
> 
> ```

### 2.13 Fibonacci序列为0,1,1,2,3,5,8,13,21,34......其中每个元素是前两个元素之和，可递归定义为$fib(n)=fib(n-1)+fib(n-2)$;请设计一个计算$fib(n)$的递归过程，并利用栈来模拟递归调用，将递归过程改成一个非递归过程

> **解答：**
>
> 这里假定$fib(0)=0;fib(1)=1$
>
>```cpp
>```

### 2.14 用一个栈来模拟表达式的转换过程，画出习题2.12的中缀表达式再转成后缀表达式的过程种，栈内容的变化图

> **解答：**
>
> ```cpp
> 
> ```

### 2.15 用一个栈来模拟一个较为复杂的后缀表达式的求值过程，画出习题2.12所得到的后缀表达式求值过程种栈内容变化图

> **解答：**
>
> 思路：
>
> 1. 遇到一个操作数时，压入栈顶
> 2. 遇到一个运算符时，从栈中两次取出栈顶元素，按照运算符对两个操作数进行计算，然后计算结果压入栈顶

### 2.16 请解决以下问题

- (1) 设计一个计算前缀表达式的算法
- (2) 设计一个将中缀表达式转换成前缀表达式的算法。假设中缀表达式以"@"结束，而前缀表达式以"@"开始

> **解答：**
>
> 
>
> ```cpp
> 
> ```

### 2.17 用计算机模拟“迷宫问题”，求出其中一条通路。用数组MAZE(1..m,1..n)表示迷宫，数组元素为1意味思路，0表示通路，MAZE(1,1)为迷宫入口，MAZE(m,n)为迷宫出口，试设计一个算法判别迷宫问题是否有解？有解则输入一条路径

> **解答：**
>
> 
>
> ```cpp
> 
> ```

### 2.18 设计3个具有三级优先级的队列，并写出插入某个已知优先级的元素的算法

> **解答：**
>
> 
>
> ```cpp
> 
> ```

### 2.19 现有4个元素作为双端队列的输入，可以得到多少种不同的排列

> **解答：**
>
> 
>
> ```cpp
> 
> ```

## 2.3 增补习题

### 2.1 设顺序表va中的数据元素递增有序，设计一个算法，将x插入到顺序表的适当位置，以保持该表的有序性

> **解答：**
>
> 
>
> ```cpp
> 
> ```

### 2.2 设$A=(a_1,...,a_n)$和$B=(b_1,..,b_n)$均为顺序表，A'和B'分别是A和B中出去最大共同前缀后的子表。若A'=B'=空表，则A=B；若A'=空表，而B'≠空表，或者两者均不为空表，且A'的首元小于B'的首元，则A<B；否则A>B。试编写一个比较A、B大小的算法

> **解答：**
>
> 
>
> ```cpp
> 
> ```

### 2.3 设线性表中的数据元素依值递增排序，并以单链表作为存储结构。设计一个高效的算法，删除表中所有值大于mink且小于maxk的元素，同时释放被删除结点的空间，并分析算法的时间复杂度

> **解答：**
>
> 
>
> ```cpp
> 
> ```

### 2.4 假设有两个按元素值递减的有序排序的线性表A和B，均以单链表作为存储结构，设计一个算法将A和B归并成一个按元素值递减有序排列的线性表C，并要求利用原表（即表A和B）的结点空间构造表C

> **解答：**
>
> 
>
> ```cpp
> 
> ```

### 2.5 已知由一个链表表示的线性表中含有3类字符的数据元素（字母字符、数字字符和其他字符），设计一个算法将该线性表分割为3个循环链表，其中每个循环链表均只含一类字符

> **解答：**
>
> 
>
> ```cpp
> 
> ```

### 2.6 设计一个算法，从一个顺序表中删除第i个元素开始的k个元素

> **解答：**
>
> 
>
> ```cpp
> 
> ```

### 2.7 已知线性表中元素依值递增有序排列，并以单链表作为存储结构。设计一个算法，删除表中值相同的多余元素，使得操作后表中的所有元素值均不相同，同时释放被删除的结点空间

> **解答：**
>
> 
>
> ```cpp
> 
> ```

### 2.8 已知两个依元素低增的有序排列的顺序表A和B，且同一表中的元素值各不相同，构造一个线性表C，其元素为A和B中元素的交集，且表C中的元素也依值有序递增排列。设计对A,B,C都是顺序表的情况的算法

> **解答：**
>
> 
>
> ```cpp
> 
> ```

### 2.9 要求同增补习题2.8，设计对A、B、C都是单链表的情况的算法。

> **解答：**
>
> 
>
> ```cpp
> 
> ```

### 2.10 设表达式以字符形式已存入数组E[n]中，"#"为表达式的结束符，试设计判断表达式中括号（"("和")"）是否匹配的算法

> **解答：**
>
> 
>
> ```cpp
> 
> ```

### 2.11 利用两个栈S1和S2来模拟一个队列。已知栈的3个运算定义如下：PUSH(ST, x):元素x入ST栈；POP(ST, x):ST栈顶元素出栈，赋给变量x，Sempty(ST):判ST是否为空。如何利用栈的运算来实现改队列的三个运算：enqueue:插入一个元素入队列；dequeue:删除一个元素出队列；queue_empty:判队列为空

> **解答：**
>
> 
>
> ```cpp
> 
> ```

### 2.12 试将下列递归过程改成非递归过程

```c
void test(int &sum){
    int x;
    scanf(x);
    if(x == 0)
        sum = 0;
    else{
        test(sum);
        sum += x;
    }
    printf(sum);
}
```

> **解答：**
>
> 
>
> ```cpp
> 
> ```

### 2.13 如果允许在循环队列的两端都可以进行插入和删除操作。要求

- （1）写出循环队列的类型定义
- （2）写出“从队尾删除”和“从队头插入”的算法

> **解答：**
>
> 
>
> ```cpp
> 
> ```

### 2.14 假设以带头结点的循环链表表示队列，并且只设一个指针指向队尾结点，但不设头指针，请写出相应的入队列和出队列算法

> **解答：**
>
> 
>
> ```cpp
> 
> ```

### 2.15 已知Q是一个非空队列，S是一个空栈。仅用队列和栈的ADT函数和少量工作变量，设计一个算法，将队列Q的所有元素逆置

> **解答：**
>
> 
>
> ```cpp
> 
> ```

### 2.16 已知Ackermann函数的定义如下

$$
Ack(m,n) =
\left\{\begin{matrix}
 & n+1 & \text(当m = 0时)\\
 & Ack(m-1,1) & \text(当m \neq 0,n=0时) \\
 & Ack(m-1,Ack(m,n-1)) & \text(当m \neq 0, n \neq 0时)
\end{matrix}\right.
$$

(1) 写出Ack(2,1的计算过程)。

(2) 写出计算Ack(m,n)的非递归算法。

> **解答：**
>
> 
>
> ```cpp
> 
> ```